"use strict";var l=Object.create;var o=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var f=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var g=(e,n)=>{for(var t in n)o(e,t,{get:n[t],enumerable:!0})},a=(e,n,t,s)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of d(n))!m.call(e,r)&&r!==t&&o(e,r,{get:()=>n[r],enumerable:!(s=u(n,r))||s.enumerable});return e};var v=(e,n,t)=>(t=e!=null?l(f(e)):{},a(n||!e||!e.__esModule?o(t,"default",{value:e,enumerable:!0}):t,e)),w=e=>a(o({},"__esModule",{value:!0}),e);var P={};g(P,{activate:()=>x,deactivate:()=>p});module.exports=w(P);var i=v(require("vscode"));function p(){}function x(e){e.subscriptions.push(i.commands.registerCommand("safeTerminalPaste.confirmPaste",async()=>{let n;if(!(n=await i.env.clipboard.readText()))return;if(!b(n))return c(n);let t=T(n);await i.window.showInputBox({value:t,prompt:"Preview paste. Send to terminal? Enter: Yes, Esc: No",ignoreFocusOut:!1,valueSelection:[0,t.length]})!==void 0&&c(n)}))}var h=/[\r\n]/;function T(e){let t=i.workspace.getConfiguration("safeTerminalPaste").get("newlineSymbol","\u21B5");return e.replace(/\r\n/g,t).replace(/[\r\n]/g,t)}function b(e){return!!e.match(h)}function c(e){if(!i.window.activeTerminal){i.window.showErrorMessage("No active terminal found");return}i.window.activeTerminal.sendText(e,!1)}0&&(module.exports={activate,deactivate});
